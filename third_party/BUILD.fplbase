package(
    default_visibility = ["//visibility:public"],
)

cc_library(
    name = "fplbase",
    srcs = [
        "src/asset_manager.cpp",
        "src/async_loader_stdlib.cpp",
        "src/environment_stdlib.cpp",
        "src/gpu_debug_gl.cpp",
        "src/input.cpp",
        "src/input_stdlib.cpp",
        "src/material.cpp",
        "src/mesh_common.cpp",
        "src/mesh_gl.cpp",
        "src/mesh_impl_gl.h",
        "src/precompiled.h",
        "src/preprocessor.cpp",
        "src/render_target_common.cpp",
        "src/render_target_gl.cpp",
        "src/render_utils_gl.cpp",
        "src/renderer_common.cpp",
        "src/renderer_gl.cpp",
        "src/shader_common.cpp",
        "src/shader_gl.cpp",
        "src/texture_common.cpp",
        "src/texture_gl.cpp",
        "src/texture_headers.h",
        "src/type_conversions_gl.cpp",
        "src/utilities.cpp",
        "src/utilities_stdlib.cpp",
        "src/version.cpp",
    ],
    hdrs = [
        "include/fplbase/asset.h",
        "include/fplbase/asset_manager.h",
        "include/fplbase/async_loader.h",
        "include/fplbase/config.h",
        "include/fplbase/debug_markers.h",
        "include/fplbase/environment.h",
        "include/fplbase/flatbuffer_utils.h",
        "include/fplbase/fpl_common.h",
        "include/fplbase/glplatform.h",
        "include/fplbase/gpu_debug.h",
        "include/fplbase/handles.h",
        "include/fplbase/input.h",
        "include/fplbase/internal/detailed_render_state.h",
        "include/fplbase/internal/type_conversions_gl.h",
        "include/fplbase/keyboard_keycodes.h",
        "include/fplbase/keyboard_scancodes.h",
        "include/fplbase/material.h",
        "include/fplbase/mesh.h",
        "include/fplbase/preprocessor.h",
        "include/fplbase/render_state.h",
        "include/fplbase/render_target.h",
        "include/fplbase/render_utils.h",
        "include/fplbase/renderer.h",
        "include/fplbase/renderer_android.h",
        "include/fplbase/renderer_common.h",
        "include/fplbase/renderer_hmd.h",
        "include/fplbase/shader.h",
        "include/fplbase/texture.h",
        "include/fplbase/texture_atlas.h",
        "include/fplbase/utilities.h",
        "include/fplbase/version.h",
    ],
    defines = [
        "FPLBASE_DISABLE_NEW_DELETE_OPERATORS",
        "FPLBASE_ANDROID_VR=0",
        "FPLBASE_BACKEND_STDLIB",
        "GL_GLEXT_PROTOTYPES",
    ],
    includes = [
        "include",
    ],
    deps = [
        "@//third_party/fplbase:fplbase_fbs",
        "@flatbuffers//:flatbuffers",
        "@fplutil//:fplutil",
        "@libwebp//:webp_decode",
        "@mathfu//:mathfu",
        "@stb//:stb",
        "@//third_party/stb:stb_image_resize",
    ],
)
